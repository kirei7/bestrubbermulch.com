var SubCartTimeout;function AddFeaturedProductToCart(e){var t=1;if(document.getElementById("FeaturedQty_"+e)!=null){if(!isNaN(document.getElementById("FeaturedQty_"+e).value)){if(document.getElementById("FeaturedQty_"+e).value>0){t=document.getElementById("FeaturedQty_"+e).value}}}AddToCart("","",e,t)}function AddToCart(aCSV,vCSV,pID,qty){var i=new Date;$.getJSON("/ShoppingCart/AddProduct?_="+i.getTime(),{ProductID:pID,Qty:qty,AttributeCSV:aCSV,VariantCSV:vCSV},function(e){if(e.COL!=null&&e.COL.length>0){if(e.ncerror){$("#nochangeerror").show();}else{$("#gc_totalQtyMiniFull").html(e.Qty);$.each(e.COL,function(e,t){if(document.getElementById("gc_miniqty_"+t.CartID)!=null){$("#gc_miniqty_"+t.CartID).html(t.Quantity);$("#gc_miniprice_"+t.CartID).html(t.Price);}else{AddMiniCartRow(t.ProductImage,t.ProductName,t.Price,t.Quantity,t.CartID);}$("#gc_miniSubTotal").html(t.SubTotal);$("#gc_subTotalMini").html(t.SubTotal);});ShowAddDialog();$("#gc_cart-descript-mini").hide();ShowMiniCart();}}else{$("#toomanyerror").show();}});}function AddMiniCartRow(i,n,p,q,d){var NewRow=$("#gc_MiniCartTemplate").html();NewRow=NewRow.replace(/##ProductImage##/g,i);NewRow=NewRow.replace(/##ProductName##/g,n);NewRow=NewRow.replace(/##ProductPrice##/g,p);NewRow=NewRow.replace(/##ProductQty##/g,q);NewRow=NewRow.replace(/##ShoppingCartID##/g,d);$("#gc_PopulatedCartMini").css("display","block").css("visibility","visible");$("#gc_AppendToMe").append(NewRow)}function Terminate(){$("#gc_ZipCode").dialog("close");}function ShowAddDialog(){$("#gc_AddToCartMsg").dialog("open");var o=setTimeout(function(){$("#gc_AddToCartMsg").dialog("close")},5e3)
$("#gc_ZipCode").dialog("open");var o=setTimeout(function(){$("#gc_ZipCode").dialog("close")},20000)}function ShowMiniCart(){$("#gc_closeMe").removeClass("close").addClass("open");var s=setTimeout(function(){$("#gc_closeMe").removeClass("open").addClass("close")},5e3);}function ProdQuickView(e){var t=new Date;$.getJSON("/Json/JSONGetFeaturedProductByID?_="+t.getTime(),{ProductID:e},function(t){$(".AttrSelector").each(function(){$(this).attr("get","0")});var n=document.getElementById("md-maincontent");n.innerHTML=t;$(".miniProductPhoto").css("zIndex","3000");$("#modal-1").addClass("md-show");SetSelectStyles();calculateTotal(e)})}function SetSelectStyles(){$(".FancyDropDown").each(function(){var e=$(this),t=$(this).children("option").length;e.addClass("s-hidden");e.wrap('<div class="select"></div>');e.after('<div class="styledSelect"></div>');var n=e.next("div.styledSelect");n.text(e.children("option").eq(0).text());var r=$("<ul />",{"class":"options"}).insertAfter(n);for(var i=0;i<t;i++){$("<li />",{text:e.children("option").eq(i).text(),rel:e.children("option").eq(i).val()}).appendTo(r)}var s=r.children("li");n.click(function(e){e.stopPropagation();$("div.styledSelect.active").each(function(){$(this).removeClass("active").next("ul.options").hide()});$(this).toggleClass("active").next("ul.options").toggle()});s.click(function(t){t.stopPropagation();n.text($(this).text()).removeClass("active");e.val($(this).attr("rel"));r.hide();var i=$(this).attr("rel");var s=document.getElementById("attribute_Count");if(s!=null){for(var o=0,u=s.options.length;o<u;++o){if(s.options[o].value===i){s.selectedIndex=o;break}}}var a=document.getElementById("sortDropdown");if(a!=null){for(var o=0,u=a.options.length;o<u;++o){if(a.options[o].value===i){a.selectedIndex=o;window.top.location.href=i;break}}}var f="";if(document.getElementById("productID")!=null){f=document.getElementById("productID").value;calculateTotal(f)}});$(document).click(function(){n.removeClass("active");r.hide()})})}function ChangeMainImage(e){var t=$(e).attr("mainImg");document.getElementById("mainProductDisplayImage").src=t;$(".zoomImg").attr("src",t)}function calculateTotal(e){var t=parseFloat(document.getElementById("price").value);var n=parseFloat(document.getElementById("RetPrice").value);$(".gc_AttrSelector option:selected").each(function(){var e=$(this).attr("id");var r=parseFloat(e);t+=r;n+=r});var r;if(t!=n){r="<del>"+formatCurrency(n)+"</del><br />"+formatCurrency(t)}else{r=formatCurrency(t)}if(document.getElementById("gc_Total")!=null){document.getElementById("gc_Total").innerHTML=r}if(e!=null&&e!=""){if(document.getElementById("Price_"+e)!=null){document.getElementById("Price_"+e).innerHTML=r}}}function formatCurrency(e){e=e.toString().replace(/\$|\,/g,"");if(isNaN(e))e="0";sign=e==(e=Math.abs(e));e=Math.floor(e*100+.50000000001);cents=e%100;e=Math.floor(e/100).toString();if(cents<10)cents="0"+cents;for(var t=0;t<Math.floor((e.length-(1+t))/3);t++)e=e.substring(0,e.length-(4*t+3))+","+e.substring(e.length-(4*t+3));return(sign?"":"-")+"$"+e+"."+cents}function AddVariantToCart(){var e=document.getElementById("productID").value;var t="";$(".varQty").each(function(){var e=$(this).attr("value");var n=$(this).attr("name");var r=n.replace("Qty","");if(parseInt(e)>0){var i=document.getElementById("Price_"+r).value;if(t==""){t=r+"_"+i+"_"+e}else{t+=","+r+"_"+i+"_"+e}}$(this).attr("value","")});AddToCart("",t,e,"",false)}function AddProductToCart(){debugger;var ProductID;var Qty=1;var r="0";var AttributeCSV="";var VariantCSV="";$(".gc_AttrSelector option:selected").each(function(){var AttrValue=$(this).attr("value");ProductID=AttrValue.split('-')[1];if(AttributeCSV==""){AttributeCSV=AttrValue.split('-')[0];}else{AttributeCSV+="|"+AttrValue.split('-')[0];}});$(".gc_AttrTextbox").each(function(){var AttrValue=this.value;var AttrName=this.id.replace("attribute_","");if(AttrValue!=""){AttrValue="~"+AttrName+":"+AttrValue;if(AttributeCSV==""){AttributeCSV=AttrValue;}else{AttributeCSV+="|"+AttrValue;}}});AddToCart(AttributeCSV,VariantCSV,ProductID,Qty,false)};function AddNormalProductToCart(){var ProductID=document.getElementById("productID").value;var Qty=1;if(document.getElementById("gc_ProdQty")!=null){if(!isNaN(document.getElementById("gc_ProdQty").value)){if(parseInt(document.getElementById("gc_ProdQty").value)>0){Qty=document.getElementById("gc_ProdQty").value}}}var r="0";var AttributeCSV="";$(".gc_AttrSelector option:selected").each(function(){var AttrValue=$(this).attr("value");if(AttributeCSV==""){AttributeCSV=AttrValue}else{AttributeCSV+="|"+AttrValue}});$(".gc_AttrTextbox").each(function(){var AttrValue=this.value;var AttrName=this.id.replace("attribute_","");if(AttrValue!=""){AttrValue="~"+AttrName+":"+AttrValue;if(AttributeCSV==""){AttributeCSV=AttrValue}else{AttributeCSV+="|"+AttrValue}}});AddToCart(AttributeCSV,"",ProductID,Qty,false)};$(document).ready(function(){$("#gc_AddToCartMsg").removeAttr("style");$("#gc_AddToCartMsg").dialog({autoOpen:false,show:{effect:"fade",duration:500},hide:{effect:"fade",duration:1e3},zIndex:3e3,draggable:false,resizable:false,height:150,width:300});$("#gc_checkoutarea").hover(function(){$("#gc_closeMe").removeClass("close").addClass("open");clearTimeout(SubCartTimeout)},function(){$("#gc_closeMe").removeClass("open").addClass("close")});$("#gc_closeMe").hover(function(){$("#gc_closeMe").removeClass("close").addClass("open");clearTimeout(SubCartTimeout)},function(){$("#gc_closeMe").removeClass("open").addClass("close")});$(".md-overlay").click(function(){$("#modal-1").removeClass("md-show")});$(".md-close").click(function(){$("#modal-1").removeClass("md-show");var e=document.getElementById("md-maincontent");e.innerHTML="";$(".gc_AttrSelector").each(function(){$(this).attr("get","1")})});$(".gc_variantImage").on("click",function(){$("#gc_prodImage").attr("src",this.src)});});